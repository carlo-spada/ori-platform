# Ori Platform - Core API Environment Variables
# Copy this file to .env and fill in your actual values

# ============================================================================
# Server Configuration
# ============================================================================
PORT=3001
NODE_ENV=development

# ============================================================================
# Supabase Configuration (Required)
# ============================================================================
# Get these from: https://supabase.com/dashboard/project/YOUR_PROJECT/settings/api
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Note: Use SERVICE_ROLE_KEY (not anon key) for backend operations
# This key bypasses Row Level Security - keep it secret!

# ============================================================================
# Stripe Configuration (Required for payments)
# ============================================================================
# Get these from: https://dashboard.stripe.com/test/apikeys
STRIPE_SECRET_KEY=sk_test_your_secret_key_here

# Webhook secret for verifying Stripe webhook signatures
# Get this from: https://dashboard.stripe.com/test/webhooks
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ============================================================================
# CORS Configuration
# ============================================================================
# Frontend URL for CORS (comma-separated for multiple origins)
FRONTEND_URL=http://localhost:3000

# Additional allowed origins (optional)
# ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com

# ============================================================================
# AI Engine Configuration
# ============================================================================
# URL for the AI Engine service
AI_ENGINE_URL=http://localhost:3002

# Timeout for AI Engine requests (milliseconds)
AI_ENGINE_TIMEOUT=30000

# ============================================================================
# Database Configuration (Optional - uses Supabase by default)
# ============================================================================
# If you need direct PostgreSQL connection (uncomment and configure)
# DATABASE_URL=postgresql://user:password@localhost:5432/ori_platform

# ============================================================================
# Logging Configuration
# ============================================================================
# Log level: error, warn, info, debug
# LOG_LEVEL=info

# ============================================================================
# Rate Limiting (Optional)
# ============================================================================
# Maximum requests per window (default: 100)
# RATE_LIMIT_MAX=100

# Time window in milliseconds (default: 15 minutes)
# RATE_LIMIT_WINDOW_MS=900000

# ============================================================================
# MCP (Model Context Protocol) Configuration - Phase 1+ (Development Only)
# ============================================================================
# These variables enable MCP servers for local development.
# IMPORTANT: Use TEST/SANDBOX keys only - NEVER use production keys
#
# Get MCP setup instructions from: ./.././.claude/mcp-setup-guide.md
#
# Stripe MCP (for payment testing in Phase 2)
# Get from: https://dashboard.stripe.com/test/apikeys (in Test Mode)
STRIPE_API_KEY=sk_test_your_test_key_here
#
# Resend MCP (for email development in Phase 3)
# Get from: https://resend.com/home → API Keys → Test API Key
RESEND_API_KEY=re_test_your_test_key_here
#
# PostgreSQL MCP (for database exploration in Phase 4)
# Uses same connection as Supabase above
# Can also specify direct PostgreSQL connection if needed
# DATABASE_URL=postgresql://user:password@host:port/database

# ============================================================================
# Session/JWT Configuration (if implementing custom auth)
# ============================================================================
# JWT_SECRET=your-jwt-secret-here
# JWT_EXPIRATION=7d
